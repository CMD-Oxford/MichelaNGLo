<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Example</title>
    <style>
        pre code {
          background-color: #eee;
          border: 1px solid #999;
          display: block;
          padding: 20px;
        }
    </style>
</head>
<body style="background-color: #eeeeee">
<h1>Check out my protein</h1>
<p>This is from a PyMOl view. <button onClick="javascript:saveImg()">Save</button></p>

<div style="max-width: 800px;"><div id="viewport" style="width:100%; height: 0; padding-bottom: 100%;"></div></div>


        <!-- **inserted code**  -->
        <script src="https://cdn.rawgit.com/arose/ngl/v0.10.4-1/dist/ngl.js" type="text/javascript"></script>
        <script type="text/javascript">
                    var stage = new NGL.Stage( "viewport",{backgroundColor: "white"});
                    stage.loadFile( "rcsb://1UBQ").then(function (protein) {
                        window.protein=protein;
                        var m4 = (new NGL.Matrix4).fromArray([-33.08379747084204, 52.62455953102059, -26.32785134913191, 0.0, -56.675070010806365, -20.374221977107002, 30.493959724841147, 0.0, 15.825718589909755, 37.04851937306921, 54.166395608812174, 0.0, -30.421813965, -32.531013489, -13.075076103, 1.0]); stage.viewerControls.orient(m4);
                        
						protein.removeAllRepresentations();
						var lines = new NGL.Selection( "66.N or 66.CA or 66.C or 66.O or 66.CB or 66.CG2 or 66.OG1" );
						protein.addRepresentation( "line", { sele: lines.string} );

						var sticks = new NGL.Selection( "67.N or 67.CA or 67.C or 67.O or 67.CB or 67.CG or 67.CD1 or 67.CD2" );
						protein.addRepresentation( "licorice", { sele: sticks.string} );

						var cartoon = new NGL.Selection( "23 or 34 or 33 or 26 or 29 or 35 or 32 or 24 or 27 or 31 or 28 or 25 or 30 or 22" );
						protein.addRepresentation( "cartoon", { sele: cartoon.string} );

                        stage.viewerControls.orient(m4);
                    });
        </script>
        <!-- **end of code** -->
            

<script type="text/javascript">
    function saveImg() {
        stage.makeImage( {
      trim: true,
      antialias: true,
      transparent: false }).then(function (img) {window.img=img; NGL.download(img);});
    }
</script>
</body>
</html>
